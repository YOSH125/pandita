*,
*::after,
*::before {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
}

:root {
    --dark-bg: linear-gradient(135deg, #0c0c0c 0%, #1a0a2e 30%, #16213e 60%, #0f3460 100%);
    --magic-purple: #8e44ad;
    --magic-pink: #e91e63;
    --magic-blue: #3f51b5;
    --magic-gold: #f39c12;
    --sparkle-color: #fff700;
}

body {
    font-family: 'Dancing Script', cursive;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    min-height: 100vh;
    background: var(--dark-bg);
    overflow: hidden;
    perspective: 1200px;
    position: relative;
}

/* Estrellas mágicas de fondo */
.stars {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    animation: twinkle 3s infinite ease-in-out;
}

.star:nth-child(odd) {
    animation-delay: 1s;
}

.star:nth-child(3n) {
    animation-delay: 2s;
}

@keyframes twinkle {
    0%, 100% { opacity: 0.3; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1.2); }
}

/* Título mejorado */
.magical-title {
    position: absolute;
    top: 5%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 100;
    text-align: center;
    padding: 0 1rem;
}

.magical-title h1 {
    font-family: 'Pacifico', cursive;
    font-size: clamp(1.5rem, 8vw, 4rem);
    background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7, #dda0dd);
    background-size: 300% 300%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: rainbow-text 4s ease-in-out infinite;
    filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.3));
    margin-bottom: 0.5rem;
    line-height: 1.2;
}

.magical-title p {
    font-size: clamp(0.9rem, 4vw, 1.5rem);
    color: #e8e8e8;
    opacity: 0.9;
    animation: float-text 3s ease-in-out infinite;
}

.lucy-name {
    font-size: clamp(1.2rem, 5vw, 2.5rem);
    background: linear-gradient(45deg, #ff1744, #e91e63, #9c27b0, #673ab7);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: lucy-shimmer 3s ease-in-out infinite;
    margin-top: 0.5rem;
    filter: drop-shadow(0 0 15px rgba(233, 30, 99, 0.5));
}

@keyframes lucy-shimmer {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

@keyframes rainbow-text {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

@keyframes float-text {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* Contenedor de flores mejorado */
.magical-garden {
    position: relative;
    transform: scale(0.9);
    filter: drop-shadow(0 0 30px rgba(138, 43, 226, 0.3));
}

/* Partículas mágicas flotantes */
.magic-particles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 50;
}

.particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--sparkle-color);
    border-radius: 50%;
    animation: float-particle 6s infinite ease-in-out;
    box-shadow: 0 0 10px currentColor;
}

.particle:nth-child(odd) {
    background: var(--magic-pink);
    animation-delay: -2s;
}

.particle:nth-child(3n) {
    background: var(--magic-blue);
    animation-delay: -4s;
}

@keyframes float-particle {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(-20vh) rotate(360deg);
        opacity: 0;
    }
}

/* Flores mejoradas */
.flower {
    position: absolute;
    bottom: 10vmin;
    transform-origin: bottom center;
    z-index: 10;
    filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.2));
}

.flower--1 {
    animation: sway-flower-1 5s ease-in-out infinite;
}

.flower--2 {
    left: 50%;
    transform: rotate(20deg);
    animation: sway-flower-2 4.5s ease-in-out infinite;
}

.flower--3 {
    left: 50%;
    transform: rotate(-15deg);
    animation: sway-flower-3 5.5s ease-in-out infinite;
}

@keyframes sway-flower-1 {
    0%, 100% { transform: rotate(2deg) scale(1); }
    25% { transform: rotate(-1deg) scale(1.02); }
    50% { transform: rotate(-2deg) scale(1); }
    75% { transform: rotate(1deg) scale(1.02); }
}

@keyframes sway-flower-2 {
    0%, 100% { transform: rotate(18deg) scale(1); }
    25% { transform: rotate(16deg) scale(1.02); }
    50% { transform: rotate(14deg) scale(1); }
    75% { transform: rotate(16deg) scale(1.02); }
}

@keyframes sway-flower-3 {
    0%, 100% { transform: rotate(-18deg) scale(1); }
    25% { transform: rotate(-16deg) scale(1.02); }
    50% { transform: rotate(-20deg) scale(1); }
    75% { transform: rotate(-18deg) scale(1.02); }
}

/* Pétalos con efectos mágicos */
.flower__leafs {
    position: relative;
    animation: bloom-flower 3s ease-out backwards;
}

.flower__leafs--1 { animation-delay: 1.1s; }
.flower__leafs--2 { animation-delay: 1.4s; }
.flower__leafs--3 { animation-delay: 1.7s; }

.flower__leafs::before {
    content: "";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 15vmin;
    height: 15vmin;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    border-radius: 50%;
    animation: magical-glow 3s ease-in-out infinite;
}

@keyframes magical-glow {
    0%, 100% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.3; }
    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.7; }
}

.flower__leaf {
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 8vmin;
    height: 11vmin;
    border-radius: 51% 49% 47% 53%/44% 45% 55% 69%;
    background: linear-gradient(45deg, var(--magic-purple), var(--magic-pink));
    transform-origin: bottom center;
    opacity: 0.95;
    box-shadow: 
        inset 0 0 20px rgba(255, 255, 255, 0.4),
        0 0 15px rgba(142, 68, 173, 0.6);
    animation: petal-shimmer 4s ease-in-out infinite;
}

@keyframes petal-shimmer {
    0%, 100% { box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.4), 0 0 15px rgba(142, 68, 173, 0.6); }
    50% { box-shadow: inset 0 0 25px rgba(255, 255, 255, 0.7), 0 0 25px rgba(233, 30, 99, 0.8); }
}

.flower__leaf--1 {
    transform: translate(-10%, 1%) rotateY(40deg) rotateX(-50deg);
    background: linear-gradient(45deg, #e74c3c, #f39c12);
}

.flower__leaf--2 {
    transform: translate(-50%, -4%) rotateX(40deg);
    background: linear-gradient(45deg, #9b59b6, #e91e63);
}

.flower__leaf--3 {
    transform: translate(-90%, 0%) rotateY(45deg) rotateX(50deg);
    background: linear-gradient(45deg, #3498db, #2ecc71);
}

.flower__leaf--4 {
    width: 8vmin;
    height: 8vmin;
    transform-origin: bottom left;
    border-radius: 4vmin;
    transform: translate(0%, 18%) rotateX(70deg) rotate(-43deg);
    background: linear-gradient(45deg, #f1c40f, #e67e22);
    z-index: 1;
    opacity: 0.9;
}

/* Centro de flor mejorado */
.flower__white-circle {
    position: absolute;
    left: -3.5vmin;
    top: -3vmin;
    width: 9vmin;
    height: 4vmin;
    border-radius: 50%;
    background: radial-gradient(circle, #fff 0%, #f8f8f8 50%, #e8e8e8 100%);
    box-shadow: 
        0 0 10px rgba(255, 255, 255, 0.8),
        inset 0 0 5px rgba(0, 0, 0, 0.1);
    animation: center-pulse 3s ease-in-out infinite;
}

@keyframes center-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); box-shadow: 0 0 20px rgba(255, 255, 255, 1); }
}

/* Luces mágicas mejoradas */
.flower__light {
    position: absolute;
    bottom: 0;
    width: 2vmin;
    height: 2vmin;
    border-radius: 50%;
    filter: blur(0.3vmin);
    animation: magical-lights 6s linear infinite;
    box-shadow: 0 0 15px currentColor;
}

.flower__light:nth-child(odd) {
    background: radial-gradient(circle, var(--magic-pink), transparent);
}

.flower__light:nth-child(even) {
    background: radial-gradient(circle, var(--sparkle-color), transparent);
}

.flower__light:nth-child(3n) {
    background: radial-gradient(circle, var(--magic-blue), transparent);
}

@keyframes magical-lights {
    0% {
        opacity: 0;
        transform: translateY(0) scale(0.5);
    }
    20% {
        opacity: 1;
        transform: translateY(-10vmin) scale(1) rotate(180deg);
    }
    40% {
        opacity: 1;
        transform: translateY(-20vmin) scale(1.2) rotate(270deg);
    }
    60% {
        opacity: 0.8;
        transform: translateY(-30vmin) scale(0.8) rotate(360deg);
    }
    80% {
        opacity: 0.4;
        transform: translateY(-40vmin) scale(0.6) rotate(450deg);
    }
    100% {
        opacity: 0;
        transform: translateY(-50vmin) scale(0.2) rotate(540deg);
    }
}

/* Tallos mejorados */
.flower__line {
    height: 55vmin;
    width: 2vmin;
    background: linear-gradient(
        to right,
        transparent,
        rgba(0, 0, 0, 0.3),
        transparent
    ),
    linear-gradient(
        to top,
        transparent 5%,
        #2d5016 20%,
        #4a7c59 50%,
        #27ae60 80%,
        #2ecc71 100%
    );
    border-radius: 1vmin;
    box-shadow: 
        inset 0 0 5px rgba(0, 0, 0, 0.3),
        0 0 10px rgba(46, 204, 113, 0.3);
    animation: grow-stem 4s ease-out backwards;
}

@keyframes grow-stem {
    0% {
        height: 0;
        opacity: 0;
    }
    50% {
        opacity: 0.7;
    }
    100% {
        opacity: 1;
    }
}

/* Fondo nocturno mejorado */
.night-sky {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(ellipse at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
        radial-gradient(ellipse at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%),
        var(--dark-bg);
    z-index: -1;
}

/* Snoopy con imagen real */
.snoopy-container {
    position: absolute;
    bottom: 15vmin;
    right: 10vmin;
    z-index: 50;
    animation: snoopy-bounce 4s ease-in-out infinite;
}

.snoopy-image {
    width: 15vmin;
    height: 15vmin;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSJ0cmFuc3BhcmVudCIvPgo8IS0tIFNub29weSBib2R5IC0tPgo8ZWxsaXBzZSBjeD0iMTAwIiBjeT0iMTQwIiByeD0iNDAiIHJ5PSI1MCIgZmlsbD0id2hpdGUiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+CjwhLS0gU25vb3B5IGhlYWQgLS0+CjxlbGxpcHNlIGN4PSIxMDAiIGN5PSI4MCIgcng9IjM1IiByeT0iMzAiIGZpbGw9IndoaXRlIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIvPgo8IS0tIFNub29weSBlYXJzIC0tPgo8ZWxsaXBzZSBjeD0iNzUiIGN5PSI2NSIgcng9IjE1IiByeT0iMjUiIGZpbGw9IndoaXRlIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIgdHJhbnNmb3JtPSJyb3RhdGUoLTIwIDc1IDY1KSIvPgo8ZWxsaXBzZSBjeD0iMTI1IiBjeT0iNjUiIHJ4PSIxNSIgcnk9IjI1IiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIHRyYW5zZm9ybT0icm90YXRlKDIwIDEyNSA2NSkiLz4KPCEtLSBTbm9vcHkgc25vdXQgLS0+CjxlbGxpcHNlIGN4PSI4NSIgY3k9Ijg1IiByeD0iMTgiIHJ5PSIxMiIgZmlsbD0id2hpdGUiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+CjwhLS0gU25vb3B5IG5vc2UgLS0+CjxjaXJjbGUgY3g9IjgwIiBjeT0iODAiIHI9IjMiIGZpbGw9ImJsYWNrIi8+CjwhLS0gU25vb3B5IGV5ZXMgLS0+CjxjaXJjbGUgY3g9Ijk1IiBjeT0iNzUiIHI9IjMiIGZpbGw9ImJsYWNrIi8+CjxjaXJjbGUgY3g9IjEwNSIgY3k9Ijc1IiByPSIzIiBmaWxsPSJibGFjayIvPgo8IS0tIFNub29weSBzcG90IC0tPgo8ZWxsaXBzZSBjeD0iMTEwIiBjeT0iOTAiIHJ4PSI4IiByeT0iNiIgZmlsbD0iYmxhY2siLz4KPCEtLSBTbm9vcHkgcGF3cyAtLT4KPGVsbGlwc2UgY3g9Ijg1IiBjeT0iMTgwIiByeD0iOCIgcnk9IjE1IiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiLz4KPGVsbGlwc2UgY3g9IjExNSIgY3k9IjE4MCIgcng9IjgiIHJ5PSIxNSIgZmlsbD0id2hpdGUiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIi8+CjwhLS0gU25vb3B5IHRhaWwgLS0+CjxjaXJjbGUgY3g9IjE0NSIgY3k9IjEzMCIgcj0iMTAiIGZpbGw9IndoaXRlIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.5));
    border-radius: 10px;
}

/* Corazones flotando alrededor de Snoopy */
.snoopy__heart {
    position: absolute;
    width: 2vmin;
    height: 2vmin;
    animation: float-heart 3s ease-in-out infinite;
}

.snoopy__heart::before,
.snoopy__heart::after {
    content: '';
    position: absolute;
    width: 1vmin;
    height: 1.6vmin;
    background: #ff69b4;
    border-radius: 1vmin 1vmin 0 0;
    transform: rotate(-45deg);
    transform-origin: 0 100%;
}

.snoopy__heart::after {
    left: 0.87vmin;
    transform: rotate(45deg);
    transform-origin: 100% 100%;
}

.snoopy__heart--1 {
    top: -2vmin;
    left: -1vmin;
    animation-delay: 0s;
}

.snoopy__heart--2 {
    top: -1vmin;
    right: -1vmin;
    animation-delay: 1s;
    transform: scale(0.7);
}

.snoopy__heart--3 {
    top: -3vmin;
    left: 3vmin;
    animation-delay: 2s;
    transform: scale(0.5);
}

/* Burbuja de pensamiento */
.snoopy__thought {
    position: absolute;
    top: -8vmin;
    left: -3vmin;
    padding: 1vmin 2vmin;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    font-family: 'Dancing Script', cursive;
    font-size: 2vmin;
    font-weight: 600;
    color: #333;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
    animation: thought-float 3s ease-in-out infinite;
    border: 2px solid rgba(255, 182, 193, 0.5);
}

.snoopy__thought::after {
    content: '';
    position: absolute;
    bottom: -1vmin;
    left: 3vmin;
    width: 2vmin;
    height: 2vmin;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 50%;
    border: 2px solid rgba(255, 182, 193, 0.5);
}

.snoopy__thought::before {
    content: '';
    position: absolute;
    bottom: -2.5vmin;
    left: 4vmin;
    width: 1vmin;
    height: 1vmin;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 50%;
    border: 1px solid rgba(255, 182, 193, 0.3);
}

/* Animaciones de Snoopy */
@keyframes snoopy-bounce {
    0%, 100% {
        transform: translateY(0) rotate(0deg);
    }
    25% {
        transform: translateY(-2vmin) rotate(2deg);
    }
    50% {
        transform: translateY(0) rotate(0deg);
    }
    75% {
        transform: translateY(-1vmin) rotate(-2deg);
    }
}

@keyframes float-heart {
    0%, 100% {
        transform: translateY(0) scale(1);
        opacity: 0.7;
    }
    50% {
        transform: translateY(-3vmin) scale(1.2);
        opacity: 1;
    }
}

@keyframes thought-float {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-1vmin);
    }
}

/* Interactividad - hover effects */
.flower:hover {
    transform: scale(1.1) !important;
    transition: transform 0.3s ease;
}

.flower:hover .flower__light {
    animation-duration: 2s !important;
}

.snoopy-container:hover .snoopy__heart {
    animation-duration: 1s !important;
}

/* Luces ambientales adicionales */
.ambient-lights {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 5;
}

.ambient-light {
    position: absolute;
    width: 1px;
    height: 1px;
    background: white;
    border-radius: 50%;
    animation: ambient-float 8s infinite ease-in-out;
    box-shadow: 0 0 10px currentColor;
}

@keyframes ambient-float {
    0%, 100% {
        transform: translateY(0) translateX(0) scale(0.5);
        opacity: 0.3;
    }
    25% {
        transform: translateY(-20px) translateX(10px) scale(1);
        opacity: 1;
    }
    50% {
        transform: translateY(-40px) translateX(-10px) scale(1.2);
        opacity: 0.8;
    }
    75% {
        transform: translateY(-20px) translateX(15px) scale(1);
        opacity: 1;
    }
}

/* Efectos de inicio */
.container * {
    animation-play-state: paused !important;
}

@keyframes bloom-flower {
    0% {
        transform: scale(0) rotate(180deg);
        opacity: 0;
    }
    50% {
        transform: scale(0.7) rotate(90deg);
        opacity: 0.7;
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
}

/* Responsive mejorado - Flores más grandes en móvil */
@media (max-width: 768px) {
    .magical-garden {
        transform: scale(0.8); /* Flores más grandes en tablet */
    }
    
    .magical-title {
        top: 3%;
        padding: 0 0.5rem;
    }
    
    .flower__light {
        width: 2vmin; /* Luces más grandes */
        height: 2vmin;
    }
    
    .particle {
        width: 4px; /* Partículas más grandes */
        height: 4px;
    }
    
    .snoopy-container {
        bottom: 12vmin;
        right: 5vmin;
        transform: scale(1); /* Snoopy tamaño normal en tablet */
    }
}

@media (max-width: 480px) {
    .magical-garden {
        transform: scale(1); /* Flores tamaño COMPLETO en móvil */
    }
    
    .magical-title {
        top: 2%;
    }
    
    .magical-title h1 {
        font-size: clamp(1.2rem, 10vw, 2.5rem);
    }
    
    .magical-title p {
        font-size: clamp(0.8rem, 5vw, 1.2rem);
    }
    
    .lucy-name {
        font-size: clamp(1rem, 6vw, 2rem);
    }
    
    .snoopy-container {
        bottom: 18vmin; /* Snoopy más arriba para que no tape flores */
        right: 5vmin;
        transform: scale(0.8);
    }
    
    .flower__light {
        width: 2.5vmin; /* Luces aún más grandes en móvil */
        height: 2.5vmin;
    }
}

@media (max-height: 600px) {
    .magical-garden {
        transform: scale(0.9); /* Escala conservadora en pantallas bajas */
    }
    
    .magical-title {
        top: 1%;
    }
}

/* Orientación landscape en móviles - Flores grandes también */
@media (max-width: 768px) and (orientation: landscape) {
    .magical-garden {
        transform: scale(0.7); /* Un poco más pequeño en landscape pero aún grande */
    }
    
    .magical-title {
        top: 1%;
    }
    
    .magical-title h1 {
        font-size: clamp(1rem, 6vw, 2rem);
    }
    
    .magical-title p {
        font-size: clamp(0.7rem, 3vw, 1rem);
    }
    
    .snoopy-container {
        bottom: 8vmin;
        right: 3vmin;
        transform: scale(0.6);
    }
}